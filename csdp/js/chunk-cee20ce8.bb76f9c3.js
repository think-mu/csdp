(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cee20ce8"],{"27bb":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"detail"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:11}},[e("div",{staticClass:"map-hd"},[e("p",{staticClass:"title"},[t._v("当前统计数据 ▶")]),e("el-tooltip",{staticClass:"item",attrs:{effect:"light","popper-class":"hd-tooltip",content:t.tData,placement:"right-start"}},[e("ul",[e("li",[e("span",[t._v(t._s(t.totalData.FZS))]),e("span",[t._v("许可证发证数")])]),e("li",[e("span",[t._v(t._s(t.totalData.GQS))]),e("span",[t._v("许可证过期数")])])])])],1),e("s-card",{staticClass:"map",attrs:{title:"化妆品企业数量"}},[e("map-echart",{attrs:{height:"652px",mapData:t.mapData,mapName:"detail"}})],1)],1),e("el-col",{staticClass:"content-right",attrs:{span:13}},[e("s-card",{staticClass:"content-right-pie",attrs:{title:"各类型化妆品企业数量",flex:"flex"}},[e("pie-echart",{attrs:{height:"325px",pieData:t.pieAllData,pieTitle:t.pieTitle1,legendWidth:"300"},on:{pieClick:t.pieClick}}),e("pie-echart",{attrs:{height:"325px",pieData:t.pieAreaData,pieTitle:t.pieTitle2,legendWidth:"380"}})],1),e("s-card",{staticClass:"content-right-bar",attrs:{title:"各类型化妆品企业数量",isShowIcon:t.isShowIcon},on:{changeShowIcon:t.changeShowIcon}},[e("div",{staticClass:"content-right-bar-total"},[e("span",{staticClass:"content-right-bar-total-label"},[t._v(t._s(t.aLabel))]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowIcon,expression:"!isShowIcon"}],staticClass:"content-right-bar-total-num"},[t._v(t._s(t.aTotal))]),t.isShowIcon?e("span",{staticClass:"content-right-bar-total-num"},[t._v(t._s(t.bTotal))]):t._e()]),e("bar-echart",{directives:[{name:"show",rawName:"v-show",value:!t.isShowIcon,expression:"!isShowIcon"}],attrs:{height:"325px",xData:t.xData,yData:t.yData},on:{barClick:t.barClick}}),t.isShowIcon?e("bar-echart",{attrs:{height:"325px",xData:t.xData1,yData:t.yData1}}):t._e()],1)],1)],1)],1)},i=[],c=(e("99af"),e("d81d"),e("b0c0"),e("d3b7"),e("4328")),o=e.n(c),s=e("709c"),l=e("eabc"),r=e("4c23"),p=e("6061"),h=e("ada6"),u=e("beb2"),D={name:"",components:{SCard:s["a"],PieEchart:l["a"],BarEchart:r["a"],MapEchart:p["a"]},data:function(){return{pieAllData:[],pieAreaData:[],pieTitle1:"各类型化妆品企业数量",pieTitle2:"",xData:[],xData1:[],yData:[],yData1:[],mapData:[],isShowIcon:!1,totalData:[],tData:"",aTotal:0,bTotal:0,aLabel:"各类型化妆品企业总数（家）"}},activated:function(){},created:function(){this.getMapData(),this.getPieAllData(),this.getTotalData()},mounted:function(){var t=new Date((new Date).getTime()-864e5);this.tData="统计日期:".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate())},methods:{getTotalData:function(){var t=this,a={region:"",action:"today",type:"T02",model:2};Object(h["a"])(o.a.stringify(a)).then((function(a){t.totalData=a.data[0]}))},getMapData:function(){var t=this,a={region:"",level:1,action:"companyInfo",type:"T02",classname:""};Object(h["b"])(o.a.stringify(a)).then((function(a){t.mapData=Object(u["c"])(a.data)}))},getPieAllData:function(){var t=this,a={region:"",level:2,action:"companyInfo",type:"T02",classname:""};Object(h["b"])(o.a.stringify(a)).then((function(a){t.pieAllData=a.data.map((function(t){return{name:t.COMPANY_TYPE,value:t.NUM}})),t.$nextTick((function(){t.getPieAraeData(t.pieAllData[0].name),t.pieTitle2=t.pieAllData[0].name+"数量"})),t.xData=a.data.map((function(t){return{value:t.COMPANY_TYPE}}));var e=[{value:"全部"}].concat(t.xData);t.$store.commit("changeTypeValue",e),t.yData=a.data.map((function(t){return{value:t.NUM}})),t.aTotal=a.data.map((function(t){return t.NUM})).reduce((function(t,a){return t+a}))}))},getPieAraeData:function(t){var a=this,e={region:"",level:3,action:"companyInfo",type:"T02",classname:t};Object(h["b"])(o.a.stringify(e)).then((function(t){a.pieAreaData=t.data.map((function(t){return{name:t.REGION,value:t.NUM}}))}))},getBarAraeData:function(t){var a=this,e={region:"",level:3,action:"companyInfo",type:"T02",classname:t};Object(h["b"])(o.a.stringify(e)).then((function(t){a.xData1=t.data.map((function(t){return{value:t.REGION}})),a.yData1=t.data.map((function(t){return{value:t.NUM}}))}))},pieClick:function(t){this.getPieAraeData(t.name),this.pieTitle2=t.name+"数量"},barClick:function(t){this.bTotal=t.value,this.getBarAraeData(t.name),this.aLabel=t.name+"总数（家）",this.isShowIcon=!0},changeShowIcon:function(t){this.isShowIcon=t,this.aLabel="各类型化妆品企业总数（家）"}}},f=D,m=(e("eec1"),e("2877")),d=Object(m["a"])(f,n,i,!1,null,null,null);a["default"]=d.exports},"7a83":function(t,a,e){},ada6:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"a",(function(){return c}));var n=e("8e44");function i(t){return n["a"].post({url:"/rcms/EagleActions/ncStatisticsAction",data:t,showLoad:!0})}function c(t){return n["a"].post({url:"/rcms/EagleActions/ncStatisticsAction",data:t,showLoad:!0})}},eec1:function(t,a,e){"use strict";e("7a83")}}]);
//# sourceMappingURL=chunk-cee20ce8.bb76f9c3.js.map